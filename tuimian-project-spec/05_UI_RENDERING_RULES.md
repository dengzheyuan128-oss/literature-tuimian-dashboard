# 05_UI_RENDERING_RULES.md - UI 渲染与数据语义规范

## 1. 目的
本规范旨在明确前端 UI 组件（特别是院校卡片）对后端数据的**最小语义要求**，以避免因数据结构合法但语义缺失导致的“空壳卡片”问题。

## 2. 最小可展示单元 (Minimum Renderable Unit)
任何进入首页卡片流的院校，必须满足以下条件，否则将被视为“语义不完整”：

| 字段路径 | 最小要求 | 语义 |
| :--- | :--- | :--- |
| `school.programs` | 数组长度 >= 1 | 必须至少有一个项目（Program）。 |
| `school.programs[0].programName` | 字符串，非空 | 必须有项目名称（如“中国语言文学”）。 |
| `school.programs[0].degreeTypes` | 数组长度 >= 1 | 必须有学位类型（如 `["学硕", "专硕"]`）。 |
| `school.programs[0].notices[0].year` | 整数，非空 | 必须有通知年份信息。 |

## 3. 数据维护规范
*   **数据写入**：在进行任何数据更新时，维护人员必须确保新增或修改的院校数据满足上述“最小可展示单元”要求。
*   **默认补齐**：对于新增的院校，如果其 `programName` 或 `degreeTypes` 缺失，应默认补齐为：
    *   `programName`: "中国语言文学"
    *   `degreeTypes`: `["学硕", "专硕"]`
*   **验收标准**：数据更新的验收标准应从“程序不报错”升级为“**首页随机抽查 5 所新增院校，卡片是否显示专业、年份、类型中的至少一项**”。

## 4. 历史问题回顾 (Commit 843740c)
在 Commit `843740c` 中，虽然修复了 `dataLoader.ts` 的运行时错误，但由于未遵循本规范，导致大量院校卡片因缺少 `programName` 和 `degreeTypes` 而显示为空壳。

*   **修复 Commit**：`824539e`
*   **修复逻辑**：通过脚本对 56 所语义缺失的院校补齐了 `programName: "中国语言文学"` 和 `degreeTypes: ["学硕", "专硕"]` 字段。
