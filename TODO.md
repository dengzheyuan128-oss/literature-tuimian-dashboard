# 重构待办事项清单

**项目**: 钝学推免指南 - 院校名录模块重构  
**创建日期**: 2025年1月16日  
**状态**: 待确认

---

## PR-0: Schema锁定和统一（P0.1）

**预计时间**: 1-2小时  
**状态**: ⏳ 待开始

### 任务清单

- [ ] 在universities.json中添加schemaVersion字段
- [ ] 在universities.json中添加lastUpdated字段
- [ ] 确认并文档化所有v1字段名称
- [ ] 更新README.md中的字段说明
- [ ] 更新README.md中的数据示例
- [ ] 更新check-data-quality.js中的字段校验规则
- [ ] 删除所有对majors/types/noticeUrl的引用
- [ ] 运行检查脚本验证
- [ ] 提交PR-0到GitHub

---

## PR-1: 补齐年度与来源元数据（P0.2）

**预计时间**: 2-3小时  
**状态**: ⏳ 待开始

### 任务清单

- [ ] 为所有62所院校添加year字段（2026）
- [ ] 为所有62所院校添加sourceType字段
- [ ] 为所有62所院校添加publisher字段
- [ ] 为所有62所院校添加lastVerifiedAt字段
- [ ] 实现sourceType自动检测函数
- [ ] 手动校正自动检测结果
- [ ] 更新check-data-quality.js支持新字段验证
- [ ] 更新README.md说明新字段
- [ ] 运行检查脚本验证
- [ ] 提交PR-1到GitHub

---

## PR-2: 实现最小多通知结构（P0.5）

**预计时间**: 3-4小时  
**状态**: ⏳ 待开始

### 任务清单

- [ ] 编写数据迁移脚本migrate-to-v1.1.js
- [ ] 运行迁移脚本生成新结构数据
- [ ] 手动检查10-15所院校的迁移结果
- [ ] 更新前端App.tsx和相关组件
- [ ] 添加数据访问辅助函数
- [ ] 更新Home.tsx页面
- [ ] 更新Matcher.tsx页面
- [ ] 更新check-data-quality.js支持新结构
- [ ] 测试前端所有功能
- [ ] 更新README.md说明新结构
- [ ] 提交PR-2到GitHub

---

## PR-3: 链接分级与修复（P0.3）

**预计时间**: 8-12小时  
**状态**: ⏳ 待开始

### 第一轮：修复D级链接（第三方平台）

- [ ] 修复武汉大学链接
- [ ] 修复厦门大学链接
- [ ] 验证修复结果

### 第二轮：修复第一梯队C级链接

- [ ] 修复北京师范大学链接
- [ ] 修复复旦大学链接
- [ ] 修复南京大学链接
- [ ] 修复四川大学链接
- [ ] 修复中国人民大学链接
- [ ] 验证第一梯队链接质量

### 第三轮：修复第二梯队C级链接

- [ ] 修复华东师范大学链接
- [ ] 修复浙江大学链接
- [ ] 修复山东大学链接
- [ ] 修复中山大学链接
- [ ] 修复吉林大学链接
- [ ] 修复南开大学链接
- [ ] 修复清华大学链接
- [ ] 验证第二梯队链接质量

### 第四轮：修复第三梯队C级链接

- [ ] 修复东北师范大学链接
- [ ] 修复陕西师范大学链接
- [ ] 修复南京师范大学链接
- [ ] 修复苏州大学链接
- [ ] 修复西北大学链接
- [ ] 修复郑州大学链接
- [ ] 修复上海大学链接
- [ ] 修复辽宁大学链接
- [ ] 修复云南大学链接
- [ ] 修复河南大学链接
- [ ] 修复湖南大学链接
- [ ] 验证第三梯队链接质量

### 第五轮：数据质量验证

- [ ] 运行检查脚本生成最终报告
- [ ] 验证数据健康度 ≥ 90%
- [ ] 验证D级链接数量 = 0
- [ ] 验证第一、二梯队A级占比 = 100%
- [ ] 更新DATA_QUALITY_ISSUES.md
- [ ] 提交PR-3到GitHub

---

## PR-4: 验证和文档更新（最终阶段）

**预计时间**: 2-3小时  
**状态**: ⏳ 待开始

### 数据质量验证

- [ ] 运行pnpm check:data，确保无错误
- [ ] 验证数据健康度 ≥ 90%
- [ ] 验证Schema版本正确（v1.1）
- [ ] 验证所有必填字段完整

### 功能验证

- [ ] 测试主页院校列表显示
- [ ] 测试梯队筛选功能
- [ ] 测试搜索功能
- [ ] 测试匹配评估功能
- [ ] 测试院校详情页

### 文档更新

- [ ] 更新README.md（新Schema说明）
- [ ] 更新README.md（数据维护指南）
- [ ] 更新DEVELOPMENT_ROADMAP.md（标记已完成项）
- [ ] 更新DATA_QUALITY_ISSUES.md（新健康度统计）
- [ ] 创建CHANGELOG.md（记录重构历史）

### CI/CD配置

- [ ] 添加GitHub Actions自动检查配置
- [ ] 配置定期健康度报告
- [ ] 测试CI/CD流程

### 最终提交

- [ ] 提交PR-4到GitHub
- [ ] 合并所有PR到main分支
- [ ] 创建v1.1.0 release tag
- [ ] 部署到Vercel

---

## 进度追踪

| PR | 状态 | 开始时间 | 完成时间 | 实际耗时 |
|----|------|---------|---------|---------|
| PR-0 | ⏳ 待开始 | - | - | - |
| PR-1 | ⏳ 待开始 | - | - | - |
| PR-2 | ⏳ 待开始 | - | - | - |
| PR-3 | ⏳ 待开始 | - | - | - |
| PR-4 | ⏳ 待开始 | - | - | - |

**总体进度**: 0% (0/5 PR完成)

---

## 注意事项

1. **每个PR开始前必须**:
   - 创建数据备份
   - 创建新的Git分支
   - 确认当前工作目录干净

2. **每个PR完成后必须**:
   - 运行检查脚本验证
   - 测试前端功能
   - 更新进度追踪表
   - 提交并推送到GitHub

3. **遇到问题时**:
   - 立即停止当前PR
   - 记录问题和现象
   - 与用户沟通解决方案
   - 必要时回滚到上一个稳定状态

---

**最后更新**: 2025年1月16日
