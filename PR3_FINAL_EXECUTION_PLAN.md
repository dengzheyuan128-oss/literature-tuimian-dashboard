# PR-3 最终执行计划（综合 GPT 审阅版）

**版本**: v1.1.0-final  
**创建日期**: 2026-01-16  
**执行原则**: 达标即停，规则护栏优先

---

## 📋 GPT 审阅结论

> **总体评价**: 这份 PR-3 执行计划已经达到了「单人团队 + AI 协作」条件下，几乎最优的可控复杂度。

### ✅ 肯定的部分

1. 目标明确、停损线清晰
2. 阶段拆分合理，没有隐含"无限扩展"
3. year 保护规则已被正式纳入执行层

### ⚠️ 需要调整的部分

1. **执行顺序调整**：3C（Year保护规则）必须前置到3A/3B之前
2. **三个硬性规则护栏**：防止执行时"顺手多做"
3. **明确"不做的事"清单**：防止范围蔓延

---

## 🎯 停损线（合同条款，不可协商）

| 指标 | 当前值 | 目标值 | 状态 |
|------|--------|--------|------|
| D级链接 | 2所 | 0所 | ❌ |
| 整体健康度 | 88.7% | ≥90% | ❌ |
| 第一梯队A级占比 | 0% | 100% | ❌ |

**达标即打 tag: v1.1.0，立即停止**

---

## 🔧 执行阶段（调整后顺序）

### 阶段 3C：Year 保护规则（前置执行，1小时）

**为什么前置**：
> 任何在 Year 未核验前的 A 级升级均视为无效。

**任务清单**：

1. **创建 NOTICE_GRADE_RULES.md**
   - 复制 GPT 提供的完整内容
   - 明确 A/B/C/D 判定标准
   - 强调年份与可信度关系

2. **更新 check-data-quality.js**
   - 实现 `verifyYear()` 函数
   - 实现 `enforceGradePolicy()` 函数
   - 添加 yearStatus 自动检测
   - 添加 A级降级保护

3. **为所有 notice 添加 yearStatus 字段**
   - 运行自动检测脚本
   - 初始化所有 yearStatus 值

4. **验证**
   - 运行 `pnpm check:data`
   - 确认 yearStatus 检测正常
   - 确认无 year=2025 的 A 级链接

---

### 阶段 3A：紧急止血（修复 D 级链接，1-2小时）

**硬性规则护栏**：
```
即便是官网正式推免通知，
只要年份未确认匹配当前year，
一律不得评为A。
```

**修复清单**：

#### 武汉大学（D级 → B级）

1. 访问武汉大学文学院官网
2. 搜索 2026 年推免通知
3. **若无 2026**：
   - 使用 2025 年官方通知
   - `year = 2026`
   - `yearStatus = unverified`
   - `linkGrade = B`（不得评 A）
4. 更新字段：url, sourceType, linkGrade, yearStatus, lastVerifiedAt, publisher

#### 厦门大学（D级 → B级）

1. 访问厦门大学中文系官网
2. 搜索 2026 年推免通知
3. **若无 2026**：
   - 使用 2025 年官方通知
   - `year = 2026`
   - `yearStatus = unverified`
   - `linkGrade = B`（不得评 A）
4. 更新字段（同上）

**验证**：
- 运行 `pnpm check:data`
- 确认 D级 = 0
- 确认健康度 ≥ 90%

---

### 阶段 3B：第一梯队 A 级化（2-3小时）

**硬性规则护栏**：
```
若该列表页能稳定定位到"推免/接收推免"栏目，
且页面结构稳定，
则B级视为完成状态，不再继续深挖。
```

**禁止条款**：
```
PR-3 阶段禁止新增 program 或 notice，
只允许修正既有 notice 的字段。
```

**修复清单**（6所）：

1. **北京大学**（B级 → A级）
   - 找到 2026 年推免通知具体页面
   - 确认 URL 中包含 "2026" 或页面标题包含 "2026"
   - `yearStatus = verified`
   - `linkGrade = A`

2. **清华大学**（B级 → A级）
   - 同上

3. **复旦大学**（B级 → A级）
   - 同上

4. **南京大学**（B级 → A级）
   - 同上

5. **中国人民大学**（B级 → A级）
   - 同上

6. **北京师范大学**（B级 → A级）
   - 同上

**重要说明**：
- 若找不到 2026 年具体通知，**B 级即为完成状态**
- 不得使用 2025 年通知评为 A 级
- 不得"顺手"修复其他院校

**验证**：
- 运行 `pnpm check:data`
- 确认第一梯队 A 级占比 = 100%（或合理范围内）

---

### 阶段 3D：规则资产建立（1小时）

**任务清单**：

1. **确认 NOTICE_GRADE_RULES.md 已完成**（在3C完成）

2. **更新 README.md**
   - 添加"链接质量说明"章节
   - 添加"数据健康度指标"说明
   - 链接到 NOTICE_GRADE_RULES.md

3. **更新 SCHEMA.md**
   - 完善 yearStatus 字段说明
   - 完善 linkGrade 字段说明
   - 添加"数据维护指南"

4. **更新 package.json**
   - 确认 `check:data` 脚本正确

---

### 阶段 3E：PR-3 收尾（0.5小时）

**任务清单**：

1. **最终检查**
   - 运行 `pnpm check:data`
   - 确认所有停损线指标达标
   - TypeScript 类型检查
   - 生成最终质量报告

2. **更新文档**
   - 更新 TODO_PR3.md（标记所有任务完成）
   - 更新 REFACTORING_PLAN.md
   - 更新 REFACTORING_ASSESSMENT_REPORT.md

3. **创建 CHANGELOG.md**
   - 记录 v1.1.0 主要变更
   - 标注 PR-3 为质量达标版本
   - 列出已修复的问题
   - 说明后续版本计划

4. **Git 操作**
   - 提交所有更改：`git add . && git commit -m "feat: PR-3 完成，发布 v1.1.0 质量达标版本"`
   - 创建 tag：`git tag -a v1.1.0 -m "质量达标版本：D=0，健康度≥90%，第一梯队A级化"`
   - 推送到 GitHub：`git push origin main --tags`
   - 验证远程仓库

---

## ⛔ 明确不做的事（防止范围蔓延）

### 数据层面

- ❌ 全量 B → A 转换（40所）
- ❌ 第四/第五梯队全面修复
- ❌ 新增任何 program 或 notice
- ❌ 补充往年通知
- ❌ 添加导师信息、历年录取数据

### 技术层面

- ❌ 自动爬虫
- ❌ 数据库迁移
- ❌ API 开发
- ❌ CI/CD 配置

### 功能层面

- ❌ 数据可视化
- ❌ 用户反馈系统
- ❌ 匹配算法优化
- ❌ UI 改版

---

## 🚨 三个"执行时最容易踩的坑"

### 风险 1：把 year=2025 的官方通知，升级为 A

**错误心理**：
> "这是官网的推免通知，看起来很正式，不如直接给 A 吧？"

**正确处理**：
```
即便是官网正式推免通知，
只要年份未确认匹配当前year，
一律不得评为A。
```

---

### 风险 2：把 B 级"列表页"当成"失败"

**错误心理**：
> "找不到具体通知，心理压力上升，开始无休止点学院官网"

**正确处理**：
```
若该列表页能稳定定位到"推免/接收推免"栏目，
且页面结构稳定，
则B级视为完成状态，不再继续深挖。
```

---

### 风险 3：在 PR-3 中"提前消费 v1.1 的结构潜力"

**错误行为**：
> "顺手给北大加第二条 notice"  
> "既然结构支持，不如补一个往年通知"

**正确处理**：
```
PR-3 阶段禁止新增 program 或 notice，
只允许修正既有 notice 的字段。
```

---

## 📊 预期成果

### 数据质量

| 指标 | 当前 | 目标 | 预期 |
|------|------|------|------|
| D级链接 | 2所 | 0所 | 0所 |
| 整体健康度 | 88.7% | ≥90% | 90-93% |
| 第一梯队A级 | 0% | 100% | 83-100% |
| yearStatus覆盖 | 0% | 100% | 100% |

### 规则资产

- ✅ NOTICE_GRADE_RULES.md（权威规则文档）
- ✅ Year 保护机制（自动检测+降级）
- ✅ 数据质量检查脚本（支持 v1.1）
- ✅ 完整的文档体系

### 版本发布

- ✅ v1.1.0 tag
- ✅ CHANGELOG.md
- ✅ GitHub 远程同步

---

## ⏱️ 时间预算

| 阶段 | 预计时间 | 累计时间 |
|------|----------|----------|
| 3C: Year保护规则 | 1h | 1h |
| 3A: 修复D级链接 | 1-2h | 2-3h |
| 3B: 第一梯队A级化 | 2-3h | 4-6h |
| 3D: 规则资产建立 | 1h | 5-7h |
| 3E: PR-3收尾 | 0.5h | 5.5-7.5h |

**总计**: 5.5-7.5 小时

---

## 🎯 执行确认清单

在开始执行前，请确认：

- [ ] 理解"停损线"是合同条款，不可协商
- [ ] 理解 3C 必须前置到 3A/3B 之前
- [ ] 理解三个"硬性规则护栏"
- [ ] 理解"明确不做的事"清单
- [ ] 理解 B 级在非头部学校是可接受状态
- [ ] 理解禁止新增 program 或 notice
- [ ] 接受时间预算（5.5-7.5小时）
- [ ] 准备好在达标后立即停止

---

## 📝 执行记录

| 阶段 | 状态 | 开始时间 | 完成时间 | 实际耗时 | 备注 |
|------|------|----------|----------|----------|------|
| 3C | ⏳ | - | - | - | Year保护规则（前置） |
| 3A | ⏳ | - | - | - | 修复D级链接 |
| 3B | ⏳ | - | - | - | 第一梯队A级化 |
| 3D | ⏳ | - | - | - | 规则资产建立 |
| 3E | ⏳ | - | - | - | PR-3收尾 |

---

**文档版本**: Final  
**最后更新**: 2026-01-16  
**执行者**: Manus AI  
**审阅者**: GPT-4 + 用户团队
